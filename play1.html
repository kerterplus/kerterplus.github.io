<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <title>JW iOS Player</title>

  <!-- JW PLAYER: Reemplaza por tu librería -->
  <script src="https://cdn.jwplayer.com/libraries/XXXXXXXX.js"></script>

  <style>
    :root{
      --bg: #0b0e12;
      --accent: #4da3ff;
      --text: #ffffff;
      --glow: 0 10px 30px rgba(77,163,255,.35);
    }
    html, body {
      margin: 0;
      height: 100%;
      background: var(--bg);
    }
    .wrap {
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background: var(--bg);
    }
    .player-shell {
      position: relative;
      width: 100%;
      height: 100%;
    }
    #player {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
    }
    /* Overlay play button */
    .overlay-play {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      z-index: 5;
      background: rgba(0,0,0,.35);
      transition: opacity .25s ease;
    }
    .overlay-play.hidden { opacity: 0; pointer-events: none; }
    .play-btn {
      width: 80px; height: 80px;
      border-radius: 50%;
      background: rgba(255,255,255,.15);
      border: 1px solid rgba(255,255,255,.3);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: var(--glow);
      display: flex; align-items: center; justify-content: center;
      cursor: pointer;
    }
    .play-icon {
      width: 0; height: 0;
      border-top: 14px solid transparent;
      border-bottom: 14px solid transparent;
      border-left: 20px solid var(--text);
      margin-left: 4px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="player-shell" id="shell">
      <div id="player"></div>
      <div class="overlay-play" id="overlay">
        <div class="play-btn" id="playBtn"><span class="play-icon"></span></div>
      </div>
    </div>
  </div>

  <script>
    const STREAM_URL = "https://fast.wistia.com/embed/medias/yhu6z8icfp.m3u8";
    const overlay = document.getElementById('overlay');
    const playBtn = document.getElementById('playBtn');

    // Inicializa JW Player
    const player = jwplayer("player").setup({
      file: STREAM_URL,
      type: "hls",
      primary: "html5",
      autostart: false,
      stretching: "uniform",
      width: "100%",
      height: "100%",
      controls: true
    });

    function hideOverlay() {
      overlay.classList.add("hidden");
    }
    function showOverlay() {
      overlay.classList.remove("hidden");
    }

    // Evento del botón de reproducción
    playBtn.addEventListener("click", () => {
      hideOverlay();
      // Intenta reproducir directamente
      player.play().catch(() => {
        // Si falla, vuelve a mostrar overlay
        showOverlay();
      });
    });

    // Ocultar overlay al reproducir
    player.on("play", hideOverlay);

    // Mostrar overlay al pausar o al terminar
    player.on("pause", showOverlay);
    player.on("complete", showOverlay);

    // Manejar errores
    player.on("error", (e) => {
      console.error("Error JW:", e);
      showOverlay();
    });
  </script>
</body>
</html>
